<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üåø Our Products - Krushi Kendra</title>
  <style>
    * {
      box-sizing: border-box;
      transition: 0.3s ease;
    }

    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #e0f2fe, #fef9c3);
      color: #1e293b;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* HEADER */
    header {
      position: sticky;
      top: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(12px);
      width: 100%;
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.1);
      padding: 16px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      flex-wrap: wrap;
      gap: 10px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .back-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 22px;
      color: #fff;
      background: linear-gradient(135deg, #3b82f6, #22c55e);
      box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .back-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(34, 197, 94, 0.6);
      background: linear-gradient(135deg, #22c55e, #3b82f6);
    }

    header h1 {
      margin: 0;
      font-size: 26px;
      font-weight: 700;
      background: linear-gradient(90deg, #3b82f6, #22c55e);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* SEARCH BAR */
    .search-bar {
      flex: 1;
      display: flex;
      justify-content: center;
    }

    .search-bar input {
      width: 60%;
      max-width: 320px;
      padding: 8px 14px;
      border-radius: 12px;
      border: 1px solid #cbd5e1;
      font-size: 15px;
      outline: none;
      background: #f8fafc;
      transition: all 0.3s ease;
    }

    .search-bar input:focus {
      border-color: #22c55e;
      box-shadow: 0 0 8px rgba(34, 197, 94, 0.3);
    }

    /* NAV LINKS */
    .nav-links {
      display: flex;
      gap: 12px;
    }

    .nav-links a {
      text-decoration: none;
      color: #2563eb;
      font-weight: 600;
      font-size: 15px;
      background: #f0f9ff;
      padding: 8px 16px;
      border-radius: 10px;
      border: 1px solid #bae6fd;
    }

    .nav-links a:hover {
      background: linear-gradient(90deg, #3b82f6, #22c55e);
      color: #fff;
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3);
    }

    /* PRODUCT GRID */
    .items {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 25px;
      padding: 40px 20px;
      max-width: 1200px;
      width: 100%;
    }

    .card {
      background: #ffffff;
      border-radius: 18px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
      padding: 18px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }

    .card img {
      width: 100%;
      height: 190px;
      object-fit: contain;
      border-radius: 12px;
      background: #f8fafc;
      padding: 12px;
    }

    .card h2 {
      font-size: 18px;
      color: #111827;
      margin: 10px 0 5px;
      font-weight: 600;
    }

    .price {
      color: #22c55e;
      font-weight: 700;
      font-size: 17px;
      margin: 4px 0;
    }

    .info {
      font-size: 14px;
      color: #475569;
      margin: 3px 0;
    }

    .qty-section {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 6px;
    }

    input[type="number"] {
      width: 70px;
      padding: 6px;
      border: 1px solid #cbd5e1;
      border-radius: 8px;
      font-size: 14px;
      text-align: center;
    }

    button {
      margin-top: 12px;
      padding: 10px 18px;
      border: none;
      background: linear-gradient(90deg, #3b82f6, #22c55e);
      color: #fff;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      font-size: 15px;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 15px rgba(59, 130, 246, 0.4);
    }

    .empty-msg {
      text-align: center;
      font-size: 18px;
      color: #64748b;
      margin-top: 40px;
    }

    footer {
      text-align: center;
      padding: 20px;
      background: #fff;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.05);
      width: 100%;
      color: #475569;
    }
  </style>
</head>

<body>

  <header>
    <div class="header-left">
      <button class="back-btn" onclick="window.location.href='index.html'">üè†</button>
      <h1>üåø Our Products</h1>
    </div>

    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="üîç Search products..." onkeyup="searchProducts()">
    </div>

    <div class="nav-links">
      <a href="Add-products.html">‚ûï Add Products</a>
      <a href="Billing.html">üí≥ Billing</a>
    </div>
  </header>

  <div class="items" id="product-list"></div>
  <p class="empty-msg" id="emptyMsg" style="display:none;">üõí No products added yet. Go to <a href="add-products.html">Add Products</a>.</p>

  <footer>
    <p>üå± Powered by <b>Krushi Kendra</b></p>
  </footer>

  <script>
    function loadProducts() {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      const container = document.getElementById("product-list");
      const emptyMsg = document.getElementById("emptyMsg");
      container.innerHTML = "";

      if (products.length === 0) {
        emptyMsg.style.display = "block";
        return;
      }

      emptyMsg.style.display = "none";

      products.forEach((p, index) => {
        const price = p.rateIncl || p.ratePc || p.price || "0";
        container.innerHTML += `
          <div class="card">
            <img src="${p.image || 'https://via.placeholder.com/150'}" alt="${p.name}">
            <h2>${p.name}</h2>
            <p class="price">‚Çπ${price}</p>
            <p class="info"><b>Pack:</b> ${p.pack || '-'}</p>
            <div class="qty-section">
              <label>Qty:</label>
              <input type="number" id="qty-${index}" min="1" value="1">
            </div>
            <button onclick="addToCart(${index})">üõí Add to Cart</button>
          </div>
        `;
      });
    }

    function addToCart(index) {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      let cart = JSON.parse(localStorage.getItem("cart")) || [];
      let qty = parseInt(document.getElementById(`qty-${index}`).value) || 1;
      let product = { ...products[index], selectedQty: qty };
      cart.push(product);
      localStorage.setItem("cart", JSON.stringify(cart));
      alert(`‚úÖ ${qty} √ó ${product.name} added to cart!`);
    }

    function searchProducts() {
      let query = document.getElementById("searchInput").value.toLowerCase();
      let products = JSON.parse(localStorage.getItem("products")) || [];
      const container = document.getElementById("product-list");
      const emptyMsg = document.getElementById("emptyMsg");

      const filtered = products.filter(p =>
        p.name.toLowerCase().includes(query) ||
        (p.pack && p.pack.toLowerCase().includes(query))
      );

      container.innerHTML = "";
      if (filtered.length === 0) {
        emptyMsg.style.display = "block";
        emptyMsg.innerHTML = `üîé No products found for "<b>${query}</b>".`;
        return;
      }

      emptyMsg.style.display = "none";

      filtered.forEach((p, index) => {
        const price = p.rateIncl || p.ratePc || p.price || "0";
        container.innerHTML += `
          <div class="card">
            <img src="${p.image || 'https://via.placeholder.com/150'}" alt="${p.name}">
            <h2>${p.name}</h2>
            <p class="price">‚Çπ${price}</p>
            <p class="info"><b>Pack:</b> ${p.pack || '-'}</p>
            <div class="qty-section">
              <label>Qty:</label>
              <input type="number" id="qty-${index}" min="1" value="1">
            </div>
            <button onclick="addToCart(${index})">üõí Add to Cart</button>
          </div>
        `;
      });
    }

    loadProducts();
  </script>
</body>

</html>



